{{#each erros}}
    <div class="alert alert-danger">{{texto}}</div>
{{else}}
{{/each}}
<div class="card">
    <h1>Editar Postagem</h1>
    <div class="card-body">
        <form action="/admin/postagens/edit" method="post">

            <input type="hidden" name="id" value="{{postagem._id}}">
            
            <label for="titulo">titulo:</label>
            <input type="text" name="titulo" placeholder="digite o titulo da postagem" class="form-control" value="{{postagem.titulo}}">
            
            <label for="slug">Slug:</label>
            <input type="text" name="slug" placeholder="digite o slug da postagem" class="form-control" value="{{postagem.slug}}">
            
            <label for="descricao">Descrição:</label>
            <input type="text" name="descricao" placeholder="digite a descricao da postagem" class="form-control" value="{{postagem.descricao}}">
            
            <label for="conteudo">Conteúdo:</label>
            <textarea type="text" name="conteudo" placeholder="digite o conteudo da postagem" class="form-control">{{postagem.conteudo}}</textarea>
            
            <label for="categoria">Categoria:</label>
            <select class="form-control" name="categoria" id="categoria">
                {{#each categorias}}
                    <option value="{{_id}}"> {{nome}} </option>
                {{else}}
                    <option value="0"> Nenhuma categoria encontrada!</option>
                {{/each}}
            </select>
            <hr>
            
            <button class="btn btn-success">Editar Postagem</button>
        </form>
    </div>
</div>
<script>
 document.body.onload = new function(){
  var cat = document.getElementById('categoria')
  var categoriaPost = "{{postagem.categoria._id}}"
  var categoria = cat.options[0].value
  while (categoria != categoriaPost){
   cat.selectedIndex++
   categoria=cat.options[cat.selectedIndex].value
  }
 }
</script>